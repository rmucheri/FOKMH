import React, { useState } from "react";
import { motion } from "framer-motion";
import { docPaulNurses, doctakwhite } from "../assets";

function AboutStory() {
  const [showModal, setShowModal] = useState(false);

  const handleBackdropClick = (e) => {
    if (e.target === e.currentTarget) {
      setShowModal(false);
    }
  };

  const handleDonateClick = (e) => {
    e.preventDefault();
    setShowModal(true);
  };

  const containerVariants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.3,
        duration: 0.6
      }
    }
  };

  const itemVariants = {
    hidden: { y: 50, opacity: 0 },
    visible: {
      y: 0,
      opacity: 1,
      transition: {
        duration: 0.8,
        ease: "easeOut"
      }
    }
  };

  const imageVariants = {
    hidden: { scale: 0.8, opacity: 0 },
    visible: {
      scale: 1,
      opacity: 1,
      transition: {
        duration: 1,
        ease: "easeOut"
      }
    }
  };

  return (
    <section className="relative py-20 lg:py-28 overflow-hidden">
      {/* Background Elements */}
      <div className="absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-cyan-50"></div>
      <div className="absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-cyan-100 to-transparent rounded-full blur-3xl opacity-30"></div>
      <div className="absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-orange-100 to-transparent rounded-full blur-3xl opacity-30"></div>
      
      <div className="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        {/* Header Section */}
        <motion.div
          initial="hidden"
          whileInView="visible"
          viewport={{ once: true, margin: "-100px" }}
          variants={containerVariants}
          className="text-center mb-20"
        >
          <motion.div variants={itemVariants} className="mb-4">
            <span className="inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-gradient-to-r from-orange-100 to-cyan-100 text-orange-800 border border-orange-200">
              ‚ú® Our Foundation
            </span>
          </motion.div>
          <motion.h4 
            variants={itemVariants}
            className="text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-orange-600 via-orange-500 to-orange-400 bg-clip-text text-transparent mb-4"
          >
            Welcome To
          </motion.h4>
          <motion.h2 
            variants={itemVariants}
            className="text-2xl md:text-3xl lg:text-4xl font-extrabold bg-gradient-to-r from-cyan-600 via-teal-600 to-cyan-500 bg-clip-text text-transparent leading-tight"
          >
            Friends of Karanda Mission Hospital
          </motion.h2>
          <motion.div 
            variants={itemVariants}
            className="mt-6 w-24 h-1 bg-gradient-to-r from-orange-400 to-cyan-400 mx-auto rounded-full"
          ></motion.div>
        </motion.div>

        {/* First Story Section */}
        <motion.div
          initial="hidden"
          whileInView="visible"
          viewport={{ once: true, margin: "-100px" }}
          variants={containerVariants}
          className="mb-24"
        >
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">
            <motion.div 
              variants={itemVariants}
              className="order-2 lg:order-1"
            >
              <div className="bg-white/80 backdrop-blur-sm rounded-3xl p-8 lg:p-10 shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-500 group">
                <div className="mb-6">
                  <h2 className="text-4xl lg:text-5xl font-bold bg-gradient-to-r from-cyan-600 to-teal-500 bg-clip-text text-transparent mb-6 group-hover:from-cyan-700 group-hover:to-teal-600 transition-all duration-500">
                    Our Story
                  </h2>
                  <div className="w-16 h-1 bg-gradient-to-r from-orange-400 to-cyan-400 rounded-full mb-6"></div>
                </div>
                <p className="text-lg leading-relaxed text-gray-700 mb-8 text-justify">
                  Friends of Karanda Mission Hospital (FOKMH) was born out of
                  the personal experiences of individuals diagnosed with cancer,
                  faced with enormous medical bills and procedures often beyond
                  their financial reach. For many, especially the breadwinners
                  of their families, the burden of these costs is overwhelming.
                  Families often go to great lengths, sacrificing their
                  resources to cover these expenses.
                </p>
                <p className="text-lg leading-relaxed text-gray-700">
                  Tragically, when the battle against cancer is lost, families are left not only with the
                  irreplaceable loss of a loved one but also with drained
                  financial resources. For economically disadvantaged and
                  underprivileged patients, the situation is even more dire.
                  Many struggle to access any form of treatment and,
                  heartbreakingly, some pass away without ever receiving formal
                  medical care.
                </p>
              </div>
            </motion.div>
            
            <motion.div 
              variants={imageVariants}
              className="order-1 lg:order-2"
            >
              <div className="relative group">
                <div className="absolute -inset-4 bg-gradient-to-r from-orange-400 via-cyan-400 to-teal-400 rounded-3xl blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-500"></div>
                <div className="relative overflow-hidden rounded-3xl shadow-2xl transform group-hover:scale-105 transition-all duration-500">
                  <img
                    src={docPaulNurses}
                    alt="Dr. Paul with nurses at Karanda Mission Hospital"
                    className="w-full h-auto object-cover"
                  />
                  <div className="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                </div>
              </div>
            </motion.div>
          </div>
        </motion.div>

        {/* Donate Button Section */}
        <motion.div
          initial="hidden"
          whileInView="visible"
          viewport={{ once: true }}
          variants={itemVariants}
          className="text-center mb-24"
        >
          <button
            onClick={handleDonateClick}
            className="group relative inline-flex items-center gap-3 px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-cyan-600 to-teal-600 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-cyan-300/50"
          >
            <span className="relative z-10">Donate Now</span>
            <svg
              className="w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M17 8l4 4m0 0l-4 4m4-4H3"
              />
            </svg>
            <div className="absolute inset-0 bg-gradient-to-r from-orange-600 to-red-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </button>
        </motion.div>

        {/* Second Story Section */}
        <motion.div
          initial="hidden"
          whileInView="visible"
          viewport={{ once: true, margin: "-100px" }}
          variants={containerVariants}
        >
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">
            <motion.div 
              variants={imageVariants}
              className="order-1"
            >
              <div className="relative group">
                <div className="absolute -inset-4 bg-gradient-to-r from-teal-400 via-cyan-400 to-orange-400 rounded-3xl blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-500"></div>
                <div className="relative overflow-hidden rounded-3xl shadow-2xl transform group-hover:scale-105 transition-all duration-500">
                  <img
                    src={doctakwhite}
                    alt="Medical professional in white coat"
                    className="w-full h-auto object-cover"
                  />
                  <div className="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                </div>
              </div>
            </motion.div>
            
            <motion.div 
              variants={itemVariants}
              className="order-2"
            >
              <div className="bg-white/80 backdrop-blur-sm rounded-3xl p-8 lg:p-10 shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-500 group">
                <div className="mb-6">
                  <h4 className="text-4xl lg:text-5xl font-bold bg-gradient-to-r from-teal-600 to-cyan-500 bg-clip-text text-transparent mb-6 group-hover:from-teal-700 group-hover:to-cyan-600 transition-all duration-500">
                    Our Mission
                  </h4>
                  <div className="w-16 h-1 bg-gradient-to-r from-teal-400 to-orange-400 rounded-full mb-6"></div>
                </div>
                <p className="text-lg leading-relaxed text-gray-700 mb-8">
                  Friends of Karanda Mission Hospital is a volunteer-driven
                  charitable organization founded with a singular purpose: to
                  raise funds and secure resources for Karanda Mission Hospital.
                  Our mission is to enable the hospital to provide essential
                  treatment to poor and underprivileged cancer patients.
                </p>
                <p className="text-lg leading-relaxed text-gray-700">
                  We make a heartfelt appeal to people worldwide, to support our cause
                  under the theme <span className="font-bold text-orange-600">"Adopt a Patient."</span> Your small donation can
                  make a significant difference, not just for individuals in
                  Zimbabwe, but for the entire African continent. Karanda
                  hospital has treated patients from other African countries
                  like Mozambique, Zambia, Malawi, South Africa, Burundi, and
                  Rwanda. Together, we can provide hope, health, and a fighting
                  chance to those who need it most.
                </p>
              </div>
            </motion.div>
          </div>
        </motion.div>
      </div>

      {/* Enhanced Modal */}
      {showModal && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[1000] p-4"
          onClick={handleBackdropClick}
        >
          <motion.div
            initial={{ scale: 0.9, opacity: 0 }}
            animate={{ scale: 1, opacity: 1 }}
            exit={{ scale: 0.9, opacity: 0 }}
            className="bg-white rounded-3xl p-8 shadow-2xl max-w-lg w-full relative overflow-hidden"
            onClick={(e) => e.stopPropagation()}
          >
            {/* Background decoration */}
            <div className="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-100 to-orange-100 rounded-full blur-2xl opacity-50"></div>
            
            <div className="relative z-10">
              <div className="text-center mb-8">
                <div className="w-16 h-16 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-4">
                  <svg className="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                  </svg>
                </div>
                <h2 className="text-3xl font-bold bg-gradient-to-r from-cyan-600 to-teal-600 bg-clip-text text-transparent mb-2">
                  Choose Donation Region
                </h2>
                <p className="text-gray-600">Select your preferred donation platform</p>
              </div>

              <div className="space-y-4">
                {[
                  {
                    text: "üá∫üá∏ USA Donations",
                    href: "https://give.team.org/give/672997/#!/donation/checkout",
                    gradient: "from-blue-500 to-blue-600"
                  },
                  {
                    text: "üá®üá¶ Canada Donations", 
                    href: "https://give.ca.team.org/give/673060/#!/donation/checkout",
                    gradient: "from-red-500 to-red-600"
                  },
                  {
                    text: "üåç International Donations",
                    href: "https://magetsi.co.zw/billers/pay/TVRnPQ/friends-of-karanda-mission-hospital",
                    gradient: "from-green-500 to-green-600"
                  }
                ].map((button, index) => (
                  <motion.a
                    key={index}
                    target="_blank"
                    rel="noopener noreferrer"
                    href={button.href}
                    whileHover={{ scale: 1.02 }}
                    whileTap={{ scale: 0.98 }}
                    className={`block w-full py-4 px-6 text-center text-white bg-gradient-to-r ${button.gradient} rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300`}
                  >
                    {button.text}
                  </motion.a>
                ))}
              </div>

              <button
                onClick={() => setShowModal(false)}
                className="absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200"
              >
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
          </motion.div>
        </motion.div>
      )}
    </section>
          <div className="flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-y-0">
          <button
            href="#"
            onClick={handleDonateClick}
            className="inline-flex justify-center gap-4 items-center py-4 px-8 text-base font-medium text-center text-white rounded-lg bg-[#3ea498] hover:bg-orange-800 focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-900 hover:scale-110"
          >
            Donate Now
            <svg
              className="w-3.5 h-3.5 ms-2 rtl:rotate-180"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 14 10"
            >
              <path
                stroke="currentColor"
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M1 5h12m0 0L9 1m4 4L9 9"
              />
            </svg>
          </button>
       
        </div>



        

          <div className="grid grid-cols-12 justify-center items-center mt-12">
            <div className="col-span-12 md:col-span-5 md:col-start-7 order-2">
              <div className="flex flex-col justify-center lg:pl-14">
                <h4 className="text-2xl text-[#3ea498] font-bold mb-4">
                  Our story cont.
                </h4>
                <p className="text-base leading-relaxed text-justify opacity-70 mb-0">
                  Friends of Karanda Mission Hospital is a volunteer-driven
                  charitable organization founded with a singular purpose: to
                  raise funds and secure resources for Karanda Mission Hospital.
                  Our mission is to enable the hospital to provide essential
                  treatment to poor and underprivileged cancer patients. We make
                  a heartfelt appeal to people worldwide, to support our cause
                  under the theme ‚ÄúAdopt a Patient.‚Äù Your small donation can
                  make a significant difference, not just for individuals in
                  Zimbabwe, but for the entire African continent. Karanda
                  hospital has treated patients from other African countries
                  like Mozambique, Zambia, Malawi, South Africa, Burundi, and
                  Rwanda. Together, we can provide hope, health, and a fighting
                  chance to those who need it most. Join us in this vital
                  mission to transform lives and create a brighter, healthier
                  future for all.
                </p>
              </div>
            </div>
            <div className="col-span-12 md:col-span-5 md:col-start-2 order-1 mb-6 md:mb-0 mt-6 md:mt-0">
              <div>
                <img
                  src={doctakwhite}
                  alt=""
                  className="max-w-full h-auto rounded-2xl"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      {/* Modal */}
{showModal && (
  <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1000]">
    <div className="bg-white p-8 rounded-lg shadow-lg max-w-md w-full mx-4 relative">
      <div className="flex flex-col">
                 <h2 className="text-2xl font-bold mb-4 text-[#3ea498] text-center">
          Choose Donation Region
        </h2>
        <div className="flex flex-col space-y-4">
          <a
            target="_blank"
            rel="noopener noreferrer"
            href="https://give.team.org/give/672997/#!/donation/checkout"
            className="inline-flex justify-center items-center py-3 px-5 text-base font-medium text-white rounded-lg bg-[#3ea498] hover:bg-orange-800"
          >
            USA Donations
          </a>
          <a
            target="_blank"
            rel="noopener noreferrer"
            href="https://give.ca.team.org/give/673060/#!/donation/checkout"
            className="inline-flex justify-center items-center py-3 px-5 text-base font-medium text-white rounded-lg bg-[#3ea498] hover:bg-orange-800"
          >
            Canada Donations
          </a>
          <a
            target="_blank"
            rel="noopener noreferrer"
            href="https://magetsi.co.zw/billers/pay/TVRnPQ/friends-of-karanda-mission-hospital"
            className="inline-flex justify-center items-center py-3 px-5 text-base font-medium text-white rounded-lg bg-[#3ea498] hover:bg-orange-800"
          >
            International Donations
          </a>
        </div>
        <button
          onClick={() => setShowModal(false)}
          className="absolute top-2 right-2 text-gray-600 hover:text-gray-800 p-2"
        >
          ‚úï
        </button>
      </div>
    </div>
  </div>
)}
    </section>
  );
}

export default AboutStory;
